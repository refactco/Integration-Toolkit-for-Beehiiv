(()=>{"use strict";var e={n:t=>{var l=t&&t.__esModule?()=>t.default:()=>t;return e.d(l,{a:l}),l},d:(t,l)=>{for(var s in l)e.o(l,s)&&!e.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:l[s]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,l=window.wp.components,s=e=>(0,t.createElement)("div",{className:"re-beehiiv-settings-header",key:"settings-header"},(0,t.createElement)("div",{className:"re-beehiiv-settings-header__logo"},(0,t.createElement)(l.SVG,{style:{marginRight:"1em"},viewBox:"0 0 196 34",fill:"none",xmlns:"http://www.w3.org/2000/SVG"},(0,t.createElement)(l.Path,{d:"M.056 33v-.48l1.008-.336c.64-.224 1.056-.512 1.248-.864.192-.384.288-.912.288-1.584V4.632c0-.64-.096-1.136-.288-1.488-.16-.384-.544-.688-1.152-.912L.056 1.8v-.48h13.728c3.776 0 6.672.72 8.688 2.16 2.016 1.408 3.024 3.376 3.024 5.904 0 1.408-.528 2.816-1.584 4.224-1.056 1.408-2.72 2.496-4.992 3.264l6.672 13.248c.288.544.608.992.96 1.344.384.32.88.608 1.488.864l.624.24V33h-8.592l-7.104-15.12H9.704v11.856c0 .608.096 1.104.288 1.488.192.384.592.672 1.2.864l1.152.432V33H.056Zm9.648-16.08h2.304c2.304 0 3.968-.608 4.992-1.824 1.024-1.248 1.536-3.088 1.536-5.52 0-2.464-.48-4.288-1.44-5.472-.96-1.216-2.576-1.824-4.848-1.824H9.704v14.64ZM30.197 33v-.48l1.104-.432c.544-.224.912-.512 1.104-.864.224-.384.335-.896.335-1.536V4.632c0-.64-.096-1.136-.288-1.488-.16-.384-.543-.688-1.151-.912L30.197 1.8v-.48h22.991l.288 7.392h-.48L50.932 4.2c-.288-.576-.592-1.04-.912-1.392-.32-.352-.8-.528-1.44-.528h-8.64v13.872h5.137c.64 0 1.12-.16 1.44-.48.351-.352.655-.816.911-1.392l.96-1.92h.48V21h-.48l-.96-2.016c-.287-.576-.591-1.024-.911-1.344-.32-.352-.8-.528-1.44-.528H39.94V32.04h9.695c.64 0 1.136-.16 1.488-.48.352-.352.64-.832.864-1.44l1.968-4.512h.48L54.149 33H30.196ZM86.898 33v-.48l.864-.288c.64-.224 1.072-.528 1.296-.912.224-.384.336-.896.336-1.536.032-1.92.048-3.856.048-5.808V10.44c0-1.952-.016-3.888-.048-5.808 0-.64-.096-1.152-.288-1.536-.16-.384-.544-.688-1.152-.912L86.898 1.8v-.48h23.232l.336 7.968h-.48l-2.736-5.04c-.32-.608-.688-1.088-1.104-1.44-.416-.352-.992-.528-1.728-.528H96.69a495.9 495.9 0 0 0-.048 6.96v7.056h4.992c.736 0 1.28-.16 1.632-.48.352-.32.688-.784 1.008-1.392l1.008-1.824h.48V21h-.48l-1.056-1.824c-.32-.576-.656-1.04-1.008-1.392-.32-.352-.848-.528-1.584-.528h-4.992v6.432c0 2.016.016 4 .048 5.952 0 1.248.608 2.064 1.824 2.448l1.44.432V33H86.898ZM107.648 33v-.48l1.2-.432c.64-.256 1.136-.56 1.488-.912.352-.384.64-.912.864-1.584l9.888-28.368h4.08l9.744 28.56c.256.704.544 1.248.864 1.632.32.352.816.656 1.488.912l.576.192V33h-12.192v-.48l.72-.24c.672-.256 1.072-.608 1.2-1.056.16-.48.144-1.04-.048-1.68l-2.256-6.912h-10.656l-2.304 6.768c-.224.704-.304 1.264-.24 1.68.096.416.48.752 1.152 1.008l1.056.432V33h-6.624Zm7.296-11.328h10.032l-4.848-14.928-5.184 14.928ZM154.644 33.864c-3.104 0-5.92-.624-8.448-1.872-2.496-1.28-4.48-3.168-5.952-5.664-1.472-2.496-2.208-5.552-2.208-9.168 0-2.752.448-5.168 1.344-7.248.896-2.08 2.112-3.824 3.648-5.232a15.72 15.72 0 0 1 5.376-3.168c2.048-.704 4.208-1.056 6.48-1.056 1.824 0 3.504.208 5.04.624 1.536.416 2.976.992 4.32 1.728l.192 5.904h-.48l-2.4-3.84A10.232 10.232 0 0 0 160.5 3.24a3.604 3.604 0 0 0-1.44-1.152 6.345 6.345 0 0 0-1.44-.48c-.448-.128-1.024-.192-1.728-.192-1.856 0-3.552.496-5.088 1.488-1.504.992-2.72 2.64-3.648 4.944-.896 2.272-1.344 5.392-1.344 9.36 0 3.936.432 7.056 1.296 9.36.864 2.272 2.032 3.904 3.504 4.896 1.504.96 3.184 1.44 5.04 1.44 1.024 0 1.84-.064 2.448-.192.608-.16 1.216-.384 1.824-.672.608-.256 1.072-.624 1.392-1.104.32-.512.608-1.056.864-1.632l2.112-4.704h.48l-.144 6.864c-1.344.704-2.848 1.28-4.512 1.728-1.664.448-3.488.672-5.472.672ZM173.486 33v-.48l1.968-.48c1.312-.288 1.968-1.088 1.968-2.4V2.28h-4.08c-1.184 0-2.032.32-2.544.96-.512.608-1.056 1.456-1.632 2.544l-1.728 3.36h-.48l.24-7.824h27.696l.192 7.824h-.48l-1.728-3.36c-.544-1.088-1.072-1.936-1.584-2.544-.512-.64-1.36-.96-2.544-.96h-4.08v27.36c0 1.312.656 2.112 1.968 2.4l1.968.48V33h-15.12Z",fill:"#fff"}),(0,t.createElement)(l.Path,{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M64.14 33.438 76.601 1.197h3.935L67.92 33.437H64.14Z",fill:"#fff"}))),(0,t.createElement)("div",{className:"re-beehiiv-settings-header__links"})),a=window.wp.apiFetch;var n=e.n(a);const i=window.wp.i18n,c=e=>{const[s,a]=(0,t.useState)(!1),[c,r]=(0,t.useState)(!1),[h,o]=(0,t.useState)(re_beehiiv_settings.api_key),[m,v]=(0,t.useState)(re_beehiiv_settings.publication_id),[d,u]=(0,t.useState)(re_beehiiv_settings.api_status),[_,b]=(0,t.useState)("");return(0,t.createElement)("div",{className:"re-beehiiv-settings-tabs",key:"settings-tabs"},(0,t.createElement)("div",{className:"re-beehiiv-settings-tabs-menu",key:"settings-tabs"}),_&&(0,t.createElement)(l.Snackbar,{className:"re-beehiiv-snackbar re-beehiiv-snackbar-settings",explicitDismiss:!0,onDismiss:()=>b(""),status:"success"},_),(0,t.createElement)("div",{className:"re-beehiiv-settings-tabs-contents",key:"settings-tabs-content"},(0,t.createElement)(l.Panel,null,(0,t.createElement)(l.PanelBody,{title:(0,i.__)("Beehive Credentials"),initialOpen:!0,buttonProps:{disabled:!d}},(0,t.createElement)(l.PanelRow,null,(0,i.__)("Enter your credentials")),(0,t.createElement)(l.PanelRow,null,(0,t.createElement)(l.__experimentalGrid,{columns:1,style:{width:"100%"}},(0,t.createElement)(l.__experimentalInputControl,{type:"password",help:(0,i.__)("Please enter your API key"),label:(0,i.__)("API Key"),onChange:e=>o(e),value:h}),(0,t.createElement)(l.__experimentalInputControl,{type:"password",help:(0,i.__)("Please enter your publication ID"),label:(0,i.__)("Publication ID"),onChange:e=>v(e),value:m}))))),(0,t.createElement)("div",{className:"re-beehiiv-settings-tabs-contents-actions"},(0,t.createElement)(l.Button,{isPrimary:!0,style:{marginRight:"1em"},onClick:()=>(()=>{const e={apiKey:h,publicationId:m,status:d};a(!0),n()({path:"/rebeehiiv/v1/save_settings",method:"POST",data:e}).then((e=>{e.success,a(!1),b(e.message)})).catch((e=>{a(!1),console.log(e)}))})(),isBusy:s,disabled:!d},(0,i.__)("Save Settings")),d&&(0,t.createElement)(l.Button,{style:{marginRight:"1em"},isDestructive:!0,onClick:()=>{n()({path:"/rebeehiiv/v1/disconnect_api",method:"POST"}).then((e=>{e.success?(u(!1),o(""),v("")):r(!1),b(e.message)})).catch((e=>{r(!1),console.log(e)}))}},(0,i.__)("Disconnect")),(0,t.createElement)("a",{href:"https://app.beehiiv.com/settings/integrations",target:"_blank"},(0,i.__)("Get your API key")))))};var r=document.getElementById("re-beehiiv-settings");r&&(0,t.render)((0,t.createElement)((e=>(0,t.createElement)("div",{className:"re-beehiiv-settings-wrap"},(0,t.createElement)(s,null),(0,t.createElement)(c,null))),{scope:"global"}),r)})();